<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Smart Petanque Judge</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
  <link href="https://fonts.googleapis.com/css2?family=Kanit&display=swap" rel="stylesheet" />
</head>
<body>
  <header>
    <h1>üéØ Smart Petanque Judge</h1>
    <p>‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏•‡∏π‡∏Å‡πÄ‡∏õ‡∏ï‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå</p>
    <button id="dashboardBtn" class="btn">üìä ‡∏î‡∏π‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</button>
  </header>

  <main>
    <section style="max-width: 960px; margin: 2rem auto; padding: 1.5rem 2rem; background: #e0f9f9; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,127,127,0.25);">
      <label for="matchNameInput" style="font-weight: 600; color: #007f7f; font-size: 1.2rem;">‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏°‡∏ï‡∏ä‡πå:</label>
      <input type="text" id="matchNameInput" name="match_name" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏°‡∏ï‡∏ä‡πå‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà" style="padding: 0.6rem 1.2rem; width: 320px; border-radius: 8px; border: 2px solid #00b4d8; margin-left: 1rem; font-size: 1rem;" />
      <button id="saveMatchBtn" style="margin-left: 1rem; padding: 0.6rem 1.2rem; font-size: 1rem; border-radius: 8px; background-color: #00b4d8; color: white; border: none; cursor: pointer;">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏°‡∏ï‡∏ä‡πå</button>
    </section>

    <section class="competition-type-section" style="
      max-width: 960px;
      margin: 1rem auto 2rem auto;
      padding: 1rem 1.5rem 0.7rem 1.5rem;
      background: #fefefe;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,127,127,0.1);
      overflow: hidden;
    ">
      <h2 style="margin: 0 0 0.3rem 0; font-weight: 700;">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</h2>
      <select id="competitionType" name="competition_type" class="competition-select" style="
        padding: 0.45rem 1rem;
        font-size: 1rem;
        border-radius: 8px;
        border: 2px solid #00b4d8;
        max-width: 320px;
        display: block;
        margin-top: 0;
      ">
        <option value="singles">‡∏Ñ‡∏π‡πà‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß (Singles)</option>
        <option value="doubles">‡∏Ñ‡∏π‡πà‡∏ó‡∏µ‡∏° (Doubles)</option>
        <option value="team">‡∏ó‡∏µ‡∏° (Team)</option>
      </select>
    </section>

    <section class="video-section" style="max-width: 960px; margin: 2rem auto;">
      <h2>‡∏†‡∏≤‡∏û‡∏™‡∏î‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡πâ‡∏≠‡∏á</h2>
      <div class="video-wrapper" style="text-align: center;">
        <img id="liveImage" alt="Live camera stream" style="max-width: 100%; border-radius: 8px;" />
      </div>
      <div style="text-align: center; margin-top: 1rem;">
        <button id="saveLiveBtn" style="
          padding: 0.6rem 1.2rem;
          font-size: 1rem;
          border-radius: 8px;
          background-color: #00b4d8;
          color: white;
          border: none;
          cursor: pointer;
        ">
          üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏û‡∏™‡∏î
        </button>
      </div>
    </section>

    <section class="canvas-section" style="max-width: 960px; margin: 2rem auto;">
      <h2>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö</h2>
      <canvas id="canvas" style="width: 100%; border-radius: 8px; border: 1px solid #00b4d8;"></canvas>
    </section>

    <section class="upload-section" style="max-width: 960px; margin: 2rem auto; padding: 1.5rem 2rem; background: #f0f4f8; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,127,127,0.15);">
      <h2>‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö</h2>
      <form id="uploadForm">
        <input type="file" id="imageInput" name="image" accept="image/*" required />
        <button id="uploadBtn" class="btn" type="submit" style="margin-left: 1rem;">‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö</button>
        <button id="resetBtn" class="btn btn-secondary" type="button" style="margin-left: 1rem;">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï</button>
        <div id="filePreview" class="file-preview" style="margin-top: 1rem;"></div>
      </form>
    </section>

    <section class="score-section" style="max-width: 960px; margin: 2rem auto;">
      <h2>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h2>
      <div class="score-box" style="display: flex; gap: 2rem;">
        <div class="team team-a" style="flex: 1; background: #d9f6e6; padding: 1rem; border-radius: 10px;">
          <h3>‡∏ó‡∏µ‡∏° A (‡∏•‡∏π‡∏Å‡πÄ‡∏õ‡∏ï‡∏≠‡∏á‡∏•‡∏≤‡∏¢) ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß</h3>
          <div class="score-value" id="teamAScore" style="font-size: 2.5rem; font-weight: 700;">0</div>
          <div class="progress-bar" style="background: #bde5d1; border-radius: 10px; overflow: hidden; height: 20px;">
            <div id="progressA" class="progress-fill" style="background: #3ac66b; height: 100%; width: 0;"></div>
          </div>
        </div>
        <div class="team team-b" style="flex: 1; background: #d9e7f6; padding: 1rem; border-radius: 10px;">
          <h3>‡∏ó‡∏µ‡∏° B (‡∏•‡∏π‡∏Å‡πÄ‡∏õ‡∏ï‡∏≠‡∏á‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤) ‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô</h3>
          <div class="score-value" id="teamBScore" style="font-size: 2.5rem; font-weight: 700;">0</div>
          <div class="progress-bar" style="background: #b7c9e8; border-radius: 10px; overflow: hidden; height: 20px;">
            <div id="progressB" class="progress-fill" style="background: #396fbc; height: 100%; width: 0;"></div>
          </div>
        </div>
      </div>
      <div id="scoreDisplay" class="score-display" style="margin-top: 1rem; font-size: 1.4rem; font-weight: 600; color: #007f7f;"></div>
    </section>

    <section class="status-section" style="max-width: 960px; margin: 2rem auto;">
      <div id="status" class="status-message" style="font-size: 1.1rem; color: #007f7f;"></div>
    </section>
  </main>

  <footer>
    <p>2025 by ‡∏Ñ‡∏¥‡∏°,‡∏Å‡∏≤‡∏¢ | ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå Smart Petanque Judge</p>
  </footer>

  <script src="{{ url_for('static', filename='app.js') }}"></script>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const dashboardBtn = document.getElementById("dashboardBtn");
      if (dashboardBtn) {
        dashboardBtn.addEventListener("click", function () {
          window.location.href = "/dashboard";
        });
      }
    });
  </script>
</body>
</html>
